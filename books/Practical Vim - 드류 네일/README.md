# Ch1. Vim의 방식(Tip 1 ~ 6)
- >G : 들여쓰기
- 반값할인
|||
|---|---|
|C|c$|
|s|cl|
|S|^C|
|I|^i|
|A|$a|
|o|A<CR>
|O|kO|
- 되돌리기
|||||
|---|---|---|---|
|기능|동작|반복|되돌리기|
|내용 변경|{편집}|.|u|
|다음 문자 찾기|f{문자} / t{문자}|;|,|
|행에서 이전 문자 찾기|F / T|;|,|
|다음 일치 찾기|/패턴<CR>|n|N|
|이전 일치 찾기|?패턴<CR>|n|N|
|치환 동작하기|:s/대상/치환|&|u|
|연속 변경 실행하기|qx{변경}q|@x|u|
- :set hls // 강조 기능 활성화

# Ch2. 일반 모드(Tip 7 ~ 12)
- "지금 끼워넣기 모드를 벗어나야 하나?" 질문에 답변하기가 약간이라도 머뭇거려진다면 그 순간에 벗어나는 것을 원칙으로 하자.
- 약방향 제거: db, 정방향 제거:dw, 단어 전체 제거:daw
- <C-a> <C-x> 숫자 증가, 감소
- d2w : 두 단어 삭제, 2dw : 단어를 두 번 삭제 
- 실행 취소 히스토리를 깔끔하게 관리하는 편이 나은지, 아니면 숫자를 직접 세서 한번에 지우는 작업을 더 편하게 느끼는지는 개인의 취향이다.
- Vim의 오퍼레이터 명령
|트리거|효과|
|---|---|
|c|변경|
|d|삭제|
|y|레지스터리로 복사|
|g~|대소문자 변환|
|gu|소문자로 변환|
|gU|대문자로 변환|
|>|우측으로 탭 이동|
|<|좌측으로 탭 이동|
|=|자동 들여 쓰기|
|!|{모션}에 해당하는 행을 외부 프로그램을 사용해 여과(필터)|
- aw: 현재 단어, ap: 현재 문단, ap: 문단 전체
	- daw: 단어삭제
	- gUaw: 현재 단어 모두 대문자
	- dap: 문단 삭제
	- gUap: 문단 전체 대문자
- 팀 포프의 commentary: gc{모션}으로 주석 변환 명령 실행 가능
- gg로 파일 상단 이동, =G를 이용하면 현재 커서 위치부터 파일 끝가지 모든 내용을 들여쓰기 할 수 있다.
	- textobj-entire 플러그인 있다면 =ae로 가능
- 오퍼레이터 대기 모드 (dw명령을 실행하면 d를 누르고 w를 누르기 전 사이의 시간을 말한다)

# Ch3. 끼워넣기 모드(Tip 13 ~ 20)
- 자동완성은 끼워넣기 모드에서 사용할 수 있는 가장 고급스러운 기능이다.
- 끼워넣기 모드에서 사용 가능(Bash 쉘에서도)
	- <C-h> 앞에 잇는 글자 하나 제거하기 (=backspace)
	- <C-w> 앞에 있는 단어 하나 제거하기
	- <C-u> 행의 시작 부분까지 제거하기
- 일반 모드로 돌아가기
	- <ESC>
	- <C-[>
	- <C-o> : 끼워넣기 일반모드로 전환하기	
- CapsLock키 CTRL키와 바꾸었음
- <C-r>{레지스터} ex) yt, <C-r>0
- 즉석에서 계산하기 <C-r>=6 * 35 
- 문자 코드 이용하기 <C-V>065 (A), 문서 내에서 어떤 문자의 숫자 코드를 찾고 싶다면 ga
- 문자 뒤집기 <C-k>?I, 이중자 사용 <C-k>>>, :h disgraph-table ex)☞ = <C-k>>H
- 선택 치환 모드 = gR, 커서가 탭 공간에 있떠라도 8개의 공간이 각각의 영역으로 존재하는 것처럼 동작(실제 파일에 문자를 바로 대체하지 않고 화면에 표시되는 기준에 따라 문자 덮어씀. 바꾸기 모드에서 동작시키면 다르게 변경되는 일이 이 모드에선 그렇지 않음. 선택치환모드 권장)
- vim은 일회성으로 사용할 수 있는 바꾸기모드와 선택치환모드 제공, r{문자}, gr{문자}

# Ch4. 비주얼 모드
- viw : 단어 영엉 선택
- 고르기 모드를 자주 사용하게 되면 Vim의 고유한 기능과는 멀어지게 됨. 사용하지 말자.
- 비주얼 모드 활성화 하기
	- v: 문자 단위 비주얼 모드 활성화하기
	- V: 행 단위 비주얼 모드 활성화하기
	- <C-v>: 블록 단위 비주얼 모드 활성화하기
	- gv: 비주얼 모드에서 마지막으로 선택했던 영역 다시 선택하기
	- o : 선택 영역 중 반대쪽 끝으로 이동하기
- :set shiftwidth=4 softtabstop=4 expandtab
- vit 명령을 사용하면 태그 안에 있는 내용을 선택할 수 있다(visually select inside the tag, 의 약어라고 생각하자). it 명령은 택스트 객체(text objct)라는 특별한 모션을 의미한다.
- vit, U -> gUit 전자는 vit는 선택, U는 조작. 후자는 gu명령과 모션(it)로 나눌 수 있다.
- 문서를 열 기준으로 조작하려면 특별한 도구가 필요하다. Vim은 이런 작업을 지원하기 위해 비주얼 블록 모드를 제공하고 있다.

# Ch5. 명령행 모드
- 버퍼 문서 작업에 사용할 수 있는 Ex명령
	- :[범위]delete [x]
	- :[범위]yank [x]
	- :[행]put [x]
	- :[범위]copy {주소}
	- :[범위]move {주소}
	- :[범위]join
	- :[범위]normal {명령}
	- :[범위]substitute/{패턴}/{문자열}/{플래그}
	- :[범위]global/{패턴}/[명령]
	- :h ex-cmd-index 참고
- ex명령에서 주소와 범위를 지정할 때 사용할 수 있는 기호 목록
	- 1: 파일의 첫 행
	- $: 파일의 마지막 행
	- 0: 파일의 첫 행 위의 가상 행
	- .: 커서가 위치한 행
	- 'm: 위치 표시 m이 포함된 행
	- '<: 비주얼 모드에서 선택된 영역의 첫 행
	- '>: 비주얼 모드에서 선택된 영역의 마지막 행
	- %: 파일 전체(1,$의 축약형)
- 약식 표기
- :copy 명령은 :co로 줄여쓸 수 있다. :t로도 가능하다.
	- :6t. : 6번행을 복사해서 현재 행 밑에 붙여넣기
	- :t6 : 현재 행을 복사해서 6번 행 밑에 붙여넣기
	- :t. : 현재 행을 복사해서 붙여넣기(yyp와 유사, 그러나 레지스터 사용하지 않음)
	- :t$ : 현재 행을 파일의 마지막에 붙여넣기
	- :'<,'>t0 : 비주얼 모드에서 선택한 행을 파일의 시작에 붙여넣기
- 가장 마지막에 사용한 Ex 명령을 반복하려면 간단하게 @:를 사용하면 된다.
- set wildmode=longest, list // 자동완성 기능이 배시 셸에서 제공하는 자동완성과 동일하게 동작한다
- set wildemode=full // 배시 셸보다 zsh가 제공하는 자동완성 기능이 더 편할 때 사용한다
- * * 와 <C-r><C-w>를 이용해 %s// 명령 효율적으로 이용한다
- set history=200 // 히스토리 기본 값은 20개, 메모리 성능 좋아졌으므로 늘리도록 하자.
- 명령행 창 불러오기
	- q/ : 검색 히스토리 명령행  창
	- q: : Ex명령 히스토리 명령행 창
	- <C-f> : 명령행 모드에서 명령행 창 전환
- :shell 쉘로 돌아가기, exit로 다시 vi로 돌아가기
- 현재 구동 중인 Vim 프로세스 중단하고 배시 셸로 돌아가기. <Ctrl-z>와 fg명령
- read !{명령} 을 사용하면 표준 출력이 버퍼에 바로 입력된다. :write는 반대로 작동한다. 이를 사용하면 버퍼에 있는 내용을 표준 입력으로 사용해서 {명령}에 전달할 수 있다.
- 느낌표는 명령행에서 어디에 위치하느냐에 따라 의미가 달라진다
	- :write !sh // 표준 입력으로 외부 sh 명령을 실행한다.
	- :write ! sh // 표준 입력으로 외부 sh 명령을 실행한다.
	- :write! sh // 버퍼의 내용을 sh라는 파일에 작성하는 명령이다. (덮어쓰라는 의미)
- :2,$!sort -t',' -k2 
	- 쉼표로 분리된 필드 알려주기 위해 -t',' 
	- 정렬하려는 필드가 두 번째 열이기 때문에 -k2
	- 2행에 커서 놓고 !G를 하면 :,.$! 가 입력된다.
- 셸 외부명령 호출 시 유용하게 사용할 수 있는 명령어
	- :shell : 셸을 시작함(exit를 입력하면 다시 vim으로)
	- :!{명령} : 셸에서 {명령}을 시작함
	- read !{명령} : 셸에서 {명령}을 실행한 후, 표준 출력을 커서 아래로 추가함
	- [범위]write !{명령} : 셸에서 [범위]의 내용을 표준 입력으로 사용해 {명령}을 실행함
	- [범위]!{필터} : 지정한 [범위]를 외부 프로그램 {필터}를 통해 걸러냄

# Ch6. 여러 파일 관리하기
- 파일을 편집한다고 표현하기는 했지만 실제로 파일을 편집하는 것이 아니다. 사실은 메모리 공간에 파일을 복사해서 편집을 하는 것이다. 이 메모리에 존재하는 파일의 사본을 Vim에서 사용하는 용어로 버퍼(buffer)라고 한다.
- :bprev, :bnext, :bfirst, :blast, <C-^> 단축키 이용하면 현재 버퍼와 이전 버퍼를 빠르게 전환할 수 있다.
- 팀 포프의 unimpaired 플러그인
	- nnoremap <silent> [b :bprevious<CR>
	- nnoremap <silent> ]b :bnext<CR>
	- nnoremap <silent> [B :bfirst<CR>
	- nnoremap <silent> ]B :blast<CR>
- 버퍼 제거 :bdelete 명령을 사용한다. 버퍼를 제거해도 버퍼와 연관된 실제 파일에는 영향을 미치지 않는다는 점을 알아두자. 단순히 메모리 내 사본을 제거하는 기능을 한다. 버퍼 목록을 관리하는 Vim 내장 기능은 유연성이 부족한 편이다. 
- 인자 목록 확인 :args, :args {인자목록}, 인자목록은 파일명이나 와일드카드, 셸 명령의 출력을 포함할 수 있다.
- 요청한 경로와 일치하는 파일 목록을 불러오기 위해 와일드카드 조합을 사용할 수 있는데 이 방법을 글롭(glob)이라 한다.
- Vim은 역따옴표 내에 있는 문자를 셸 명령으로 처리하고 그 결과를 args 명령의 인자로 사용한다
```vim
:args `cat . chapters`
```
- 종료할 때 숨김 버퍼 처리하기
	- 변경내용 유지 :w[rite]
	- 변경 취소 :e[dit]!
	- 모든 창 닫음 :qa[ll]!
	- 변경 모든 버퍼 디스크에 저장 :wa[ll]
- :argdo {명령} 은 이렇게 동작한다
	- :first :{명령} :next {명령} ...(목록 마지막까지)
	- hidden 설정을 활성화하면 "마지막 변경후에 저장하지 않았습니다."라는 에러를 !없이 작업할 수 있다.
	- :wn 현재 버퍼를 저장하고, 다음 버퍼로 이동하는 기능 제공
- <C-w>s : 화면 상하 - :sp[lit] {파일명}, <C-w>v : 화면 좌우 - :vsp[lit] {파일명}
- 이동: <C-w> w, h, l, k, j 닫기 :clo[se], <C-w>c 활성화 창 닫기, :on[ly], <C-w>o 활성화 창 유지, 나머지 닫기
- 창은 버퍼와 일대일 관계를 해당하지만 탭은 그렇지 않다.
- :lcd 명령을 사용하면 작업 경로를 다른 디렉터리로 변경할 수 있다.

# Ch7. 파일 열기와 저장하기
- 상대 경로로 파일 열기 
	- :edit %<Tab> - %기호는 현재 활성 버퍼의 파일 경로 의미
	- :edit %:h<tab> - :h변경자는 파일 경로에서 파일명을 제거
- 활성 파일 디렉토리를 위한 확장
	- vimrc에 cnoremap <expr> %% getcmdtype() == ':' ? expand('%:h').'\' : '%%'
	- %%를 입력하면 %:h<tab>을 입력한 것과 같이 현재 활성 버퍼 경로 확장하는 것 확인할 수 있다.
- find 명령을 사용하려면 'path'를 설정해야 한다.
	- :set path+=app/ * *
	- * * 와일드 카드는 app 아래 있는 모든 디렉터리를 찾는다.
	- 팀 포프의 rails.vim을 사용하면 프로젝트의 모든 디렉터리를 자동으로 설정한다. (path설정을 따로 하지 않아도 find 명령 사용 가능)
- netrw 플러그인 사용하기 위해서 설정 해야 할 것
	- set nocompatible
	- filetype plugin on
	- vim . 으로 실행 (- 는 부모디렉토리 이동)
- :edit . [:e.] : 파일 탐색기로 현재 작업 디렉터리 열기
- :Explore [:E] : 파일 탐색기로 현재 활성 버퍼의 디렉터리 열기
- <C-g> 명령은 현재 파일의 파일명과 상태를 출력한다
- 존재하지 않는 디렉터리에 파일 저장했을 때 오류 해결
	- ex) :edit madeup/dir/doesnotexist.yet
	- :!mkdir -p %:h
	- :write
- 


# Ch8. 모션으로 파일 내부 탐색하기
# Ch9. 점프 명령으로 파일 사이 이동하기
# Ch10. 복사하기와 붙여넣기
# Ch11. 매크로
# Ch12. 패턴과 문자열 일치
# Ch13. 검색하기
# Ch14. 치환하기
# Ch15. 전역 명령
# Ch16. ctags로 소스코드 색인 및 탐색하기
# Ch17. 코드컴파일과 퀵픽스 목록에서 오류 확인하기
# Ch18. 프로젝트에서 grep, vimgrep 그 외 기능으로 검색하기
# Ch19. 자동완성, 다이얼 X를 돌려라
# Ch20. Vim에서 맞춤법 검사하기
# Ch21. 이제부터 해야 할 일
