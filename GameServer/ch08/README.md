## 관계형 데이터베이스와 NoSQL
- 관계형 데이터베이스는 특정 상황에서 몇가지 부족한 점이 있다.
	- 한 테이블에 저장된 레코드들은 모두 같은 형태의 필드를 가져야 한다.
	- 로그 데이터를 한 테이블에 기록할 때는 이 점이 불편할 수 있다.
	- 예를 들어, 구매 개수란 필드를 추가하면 기존에 쌓여있던 1억개에도 '구매 개수'라는 필드를 반드시 추가해야 한다.	
	- 이메일 주소를 저장해야 한다면? 점점 복잡해질 수 있다.
	- 관계형 데이터베이스의 레코드 1개는 논리적으로 볼 때 리스트나 배열 구조의 데이터이다. 이 레코드가 리스트나 배열이 아닌 구조체 형태를 갖출 수 있다면 어떨까요?
### 관계형 데이터베이스에서 확장성
- 여러 테이블을 각각 여러 데이터베이스 컴퓨터에 나누는 것. 이를 데이터베이스의 수직(vectical) 분산이라고 한다.
- 테이블 하나가 레코드를 1억개 가졌을 때 컴퓨터 100대가 주어졌다면, 각 컴퓨터에 데이터베이스를 설치하고 1억을 100으로 나눈 수인 100만개씩 레코드를 분배. 이렇게 수평으로 분산된 데이터베이스에서는 각 컴퓨터가 큰 테이블 1개를 조각조각 가진 셈이다. 샤드(shard)라고 한다.
- 기기 둘 이상에 걸쳐 저장된 데이터를 액세스하는 동안 다른 스레드나 프로세스에서 엑세르를 블로깅 시켜주는 것을 분산 락(distributed lock)이라고 한다.
	- 어느 샤드에 있는지 파악할 때 (1해시 함수 사용, 2로케이터 DB 사용)
- 데이터베이스 샤드가 많을수록 분산 처리 효과는 퇴색된다. 이를 단점이라고 말하기도 애매하다. 분산 관계형 데이터베이스의 결점이 아니라 일관성을 중요하게 여기는 관계형 데이터베이스의 특성상 어쩔 수 없는 것이다.

### 8.3 관계형 데이터베이스에서 고가용성
- 하드웨어 고장 또는 다른 이유로 서버 기기가 정상 작동 하지 않을 때도 사용자 입장에서는 서비스가 지속되는 상태를 유지하는 것을 고가용성이라고 한다.
- 요약
	1. ACID 대신 BASE를 지향한다.
	2. 일관성을 일부 희생하더라도 높은 확장성과 고가용성ㅇ르 실현한다.
	3. 탈 테이블 구조의 유연한 저장 방식을 이용하여 더 효율적인 프로그래밍을 추구한다.
- 이러한 형태의 데이터베이스는 이름부터 도발적이다. NoSQL이라고 한다.

### 8.4 MongoDB를 위한 JSON 이해
### 8.5 MongoDB 시작
- MongoDB는 JSON을 적극 활용한다.
- RDBMS의 집합관계와 비슷하지만, 몇가지 차이가 있다.
	- RDBMS의 DB인스턴스 안에는 테이블이 있다. MongoDB의 DB 인스턴스 안에는 컬렉션이 있다.
	- RDBMS의 테이블 안에는 레코드가 있다. MongoDB의 컬렉션 안에 레코드 대신 도큐먼트가 있다.
- 생성, 읽기 , 업데이트, 지우기
### 8.7 성능 분석 기능
- explain("executionStats")
### 8.8 MongoDB 수평 확장
- 수평 확장을 샤딩 혹은 파티셔닝이라고 한다.
### 8.9 게임 서버에서 MongoDB 명령 실행

